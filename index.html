<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Illuminati - Matrix Binary Edition</title>
<style>
  * { box-sizing: border-box; }
  body {
    margin: 0;
    height: 100vh;
    background: #010501;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Arial Black', sans-serif;
    overflow: hidden;
  }

  /* --- CANVAS DE FONDO MATRIX --- */
  #matrixCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }

  /* --- CARTA --- */
  .card-container {
    position: relative;
    width: 380px; 
    height: 590px; 
    background: rgba(0, 0, 0, 0.9);
    background-image: 
        radial-gradient(circle at 50% 50%, rgba(0, 255, 100, 0.05) 0%, transparent 80%),
        url('https://www.transparenttextures.com/patterns/money.png'); 
    background-size: cover;
    border: 1px solid #0d1a00;
    overflow: hidden;
    box-shadow: 0 0 40px rgba(0, 255, 80, 0.2);
    animation: breathe 8s infinite ease-in-out;
    z-index: 10;
    transition: transform 0.3s ease; /* Suaviza el cambio de escala */
  }

  @keyframes breathe {
    0%, 100% { box-shadow: 0 0 30px rgba(0, 255, 80, 0.1); border-color: #0d1a00; }
    50% { box-shadow: 0 0 60px rgba(0, 255, 100, 0.3); border-color: #1a3300; }
  }

  /* --- ELEMENTOS INTERNOS DE LA CARTA --- */
  .all-seeing-eye {
    position: absolute; top: 60px; left: 10%; transform: translateX(-50%);
    width: 280px; opacity: 0.1; z-index: 1;
    filter: sepia(1) saturate(5) hue-rotate(90deg);
    animation: eyeFade 10s infinite alternate ease-in-out;
  }
  
  .mystic-hand {
    position: absolute; width: 160px; z-index: 6; opacity: 0.3;
    filter: grayscale(1) contrast(1.2) drop-shadow(0 0 5px #00ff66);
    animation: handMove 12s infinite alternate ease-in-out;
  }
  .hand-left { bottom: 120px; left: -20px; transform: rotate(40deg); }
  .hand-right { bottom: 120px; right: -20px; transform: rotate(-40deg) scaleX(-1); }

  @keyframes handMove {
    0% { transform: translateY(0) rotate(35deg); }
    100% { transform: translateY(-20px) rotate(45deg); }
  }

  #moneyCanvas {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; pointer-events: none;
  }

  .player-rating {
    position: absolute; top: 70px; left: 35px; color: #00ff66; z-index: 25;
    text-shadow: 0 0 10px rgba(0, 255, 100, 0.4);
  }
  .rating-value { font-size: 65px; display: block; line-height: 0.8; }
  .rating-pos { font-size: 24px; display: block; color: #fff; letter-spacing: 2px; }

  .player-img-tag {
    position: absolute; top: 65px; right: 5px; width: 260px; height: 310px; 
    object-fit: contain; z-index: 10; filter: drop-shadow(0 5px 15px #000);
  }

  .player-name {
    position: absolute; top: 355px; width: 100%; text-align: center;
    color: #fff; font-size: 22px; text-transform: uppercase;
    z-index: 25; letter-spacing: 5px; text-shadow: 0 0 8px #00ff66;
  }

  .player-stats {
    position: absolute; bottom: 95px; width: 80%; left: 10%;
    display: flex; justify-content: space-around; color: #00ff66; z-index: 25;
  }
  .stat-col { text-align: center; }
  .stat-label { font-size: 14px; display: block; color: #444; }
  .stat-num { font-size: 22px; display: block; font-weight: bold; }
  .divider { width: 1px; background: linear-gradient(to bottom, transparent, #1a3300, transparent); }

  /* --- PERSONAJE EXTERNO --- */
  #walking-sprite {
    position: fixed;
    bottom: 50px; /* Un poco m√°s arriba para que no lo tape la barra del m√≥vil */
    left: -150px;
    width: 150px;
    z-index: 100;
    pointer-events: none;
    transition: opacity 2s ease;
  }

  /* --- AJUSTES PARA M√ìVIL (PANTALLAS PEQUE√ëAS) --- */
  @media (max-width: 480px) {
    .card-container {
      transform: scale(0.85); /* Acerca la carta aumentando su tama√±o visual relativo */
      margin-top: -50px; /* La sube un poco para dejar espacio al mu√±eco */
    }
    
    #walking-sprite {
      width: 180px; /* Mu√±eco m√°s grande en m√≥vil */
      bottom: 30px;
    }
  }

  /* Ajuste para pantallas muy peque√±as */
  @media (max-height: 650px) {
    .card-container {
      transform: scale(0.75);
    }
  }
</style>
</head>
<body>

<canvas id="matrixCanvas"></canvas>

<img id="walking-sprite" src="fotogramas-alejo/1.png" alt="Animaci√≥n">

<div class="card-container">
  <canvas id="moneyCanvas"></canvas>
  <img src="image.png" class="all-seeing-eye">
  <img src="https://pngimg.com/uploads/hands/hands_PNG905.png" class="mystic-hand hand-left">
  <img src="https://pngimg.com/uploads/hands/hands_PNG905.png" class="mystic-hand hand-right">

  <div class="player-rating">
    <span class="rating-value">99</span>
    <span class="rating-pos">ORDEN</span>
  </div>

  <img src="img1.PNG" alt="Jugador" class="player-img-tag">

  <div class="player-name">Alejandro Escandon</div>

  <div class="player-stats">
    <div class="stat-col"><span class="stat-num">99</span><span class="stat-label">LUX</span></div>
    <div class="divider"></div>
    <div class="stat-col"><span class="stat-num">99</span><span class="stat-label">INF</span></div>
    <div class="divider"></div>
    <div class="stat-col"><span class="stat-num">99</span><span class="stat-label">SEC</span></div>
  </div>
</div>

<script>
// --- FONDO MATRIX BINARIO ---
const mCanvas = document.getElementById('matrixCanvas');
const mCtx = mCanvas.getContext('2d');

function resizeMatrix() {
  mCanvas.width = window.innerWidth;
  mCanvas.height = window.innerHeight;
}
resizeMatrix();

const binChars = ['0', '1'];
const fontSize = 16;
let columns = mCanvas.width / fontSize;
let drops = Array.from({ length: columns }).fill(1);

function drawMatrix() {
  mCtx.fillStyle = 'rgba(1, 5, 1, 0.1)';
  mCtx.fillRect(0, 0, mCanvas.width, mCanvas.height);
  mCtx.fillStyle = '#00ff66';
  mCtx.font = fontSize + 'px monospace';

  for (let i = 0; i < drops.length; i++) {
    const text = binChars[Math.floor(Math.random() * binChars.length)];
    mCtx.fillText(text, i * fontSize, drops[i] * fontSize);
    if (drops[i] * fontSize > mCanvas.height && Math.random() > 0.975) {
      drops[i] = 0;
    }
    drops[i]++;
  }
}

// --- CANVAS INTERNO CARTA (DINERO) ---
const canvas = document.getElementById('moneyCanvas');
const ctx = canvas.getContext('2d');
canvas.width = 380; canvas.height = 590;
const particles = [];
const symbols = ['$', '‚Ç¨', '¬£', 'üëÅ', '‚àÜ'];
for(let i = 0; i < 35; i++) {
  particles.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    speed: 0.5 + Math.random() * 1.5,
    opacity: 0.1 + Math.random() * 0.3,
    size: 10 + Math.random() * 15,
    symbol: symbols[Math.floor(Math.random() * symbols.length)]
  });
}
function drawMoney() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => {
    ctx.fillStyle = `rgba(0, 255, 102, ${p.opacity})`;
    ctx.font = `${p.size}px serif`;
    ctx.fillText(p.symbol, p.x, p.y);
    p.y += p.speed;
    if (p.y > canvas.height + 20) { p.y = -20; p.x = Math.random() * canvas.width; }
  });
}

// --- L√ìGICA DE MOVIMIENTO PERSONAJE ---
const sprite = document.getElementById('walking-sprite');
let currentFrame = 1;
let xPos = -150;
let state = 'walking'; 
let laps = 0;
let animationTimer = 0;

const moveSpeed = 1.5; // Un poco m√°s r√°pido para pantallas peque√±as
const saludoRepeatsPerStop = 3;
let currentSaludoCount = 0;

function animateAll() {
  animationTimer++;
  drawMatrix();
  drawMoney();

  if (state === 'walking') {
    xPos += moveSpeed;
    sprite.style.left = xPos + 'px';
    if (animationTimer % 10 === 0) {
      currentFrame++;
      if (currentFrame > 7) {
        currentFrame = 1;
        state = 'greeting';
        currentSaludoCount = 0;
      }
      sprite.src = `fotogramas-alejo/${currentFrame}.png`;
    }
  } else if (state === 'greeting') {
    if (animationTimer % 10 === 0) {
      currentFrame++;
      if (currentFrame > 10) {
        currentFrame = 1;
        currentSaludoCount++;
        if (currentSaludoCount >= saludoRepeatsPerStop) {
          state = 'walking';
          laps++;
        }
      }
      sprite.src = `saludo/${currentFrame}.png`;
    }
  }

  if (xPos > window.innerWidth) {
    xPos = -180;
  }
  requestAnimationFrame(animateAll);
}

window.onresize = () => {
  resizeMatrix();
  columns = mCanvas.width / fontSize;
  drops = Array.from({ length: columns }).fill(1);
};

animateAll();
</script>
</body>
</html>